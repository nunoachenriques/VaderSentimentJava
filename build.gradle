apply plugin: 'java'
apply plugin: 'java-library-distribution'

sourceCompatibility = 1.8
version = file("VERSION").getText()
def applicationName = "VADER Sentiment Analysis in Java"

println "${applicationName} ${version}"

repositories {
    mavenCentral()
}

dependencies {
    compile group: 'org.apache.lucene', name: 'lucene-analyzers-common', version:'5.5.0'
    compile group: 'commons-lang', name: 'commons-lang', version:'2.6'
    // LOGGER
    compile 'org.apache.logging.log4j:log4j-api:2.+'
    compile 'org.apache.logging.log4j:log4j-core:2.+'
    // JUNIT
    testCompile 'junit:junit:4.+'
}

// EXTRA PACKAGING FOR RELEASE DISTRIBUTION
task release(dependsOn: ['test', 'distZip', 'sourcesZip', 'javadocZip'])

task sourcesZip(type: Zip, dependsOn: 'classes') {
    classifier = 'sources'
    from sourceSets.main.allSource
    destinationDir = file("${distsDir}")
}

task javadocZip(type: Zip, dependsOn: 'javadoc') {
    classifier = 'javadoc'
    from javadoc.destinationDir
    destinationDir = file("${distsDir}")
}
